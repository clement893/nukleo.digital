<!doctype html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Nukleo Digital</title>
    
    <!-- DNS prefetch and preconnect for faster loading -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="dns-prefetch" href="https://api.manus.im" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#7c3aed" />
    
    <!-- Preload critical fonts for better performance -->
    <link rel="preload" href="/fonts/AktivGrotesk-Regular.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/AktivGrotesk-Medium.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/AktivGrotesk-Bold.woff2" as="font" type="font/woff2" crossorigin />
    
    <!-- Preload LCP image (LEO avatar) -->
    <link rel="preload" href="/leo-avatar.webp" as="image" type="image/webp" fetchpriority="high" />
  </head>

  <body>
    <!-- Loading animation -->
    <style>
      #app-loader {
        position: fixed;
        inset: 0;
        background: linear-gradient(135deg, rgb(107,23,22) 0%, rgb(40,60,120) 50%, rgb(107,23,22) 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        overflow: hidden;
      }
      #app-loader .grain {
        position: absolute;
        inset: 0;
        background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%222.5%22 numOctaves=%224%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22/%3E%3C/svg%3E');
        background-size: 200px 200px;
        mix-blend-mode: overlay;
        opacity: 0.50;
        pointer-events: none;
        animation: grain-move 8s steps(10) infinite;
      }
      @keyframes grain-move {
        0%, 100% { transform: translate(0, 0); }
        10% { transform: translate(-5%, -10%); }
        20% { transform: translate(-15%, 5%); }
        30% { transform: translate(7%, -25%); }
        40% { transform: translate(-5%, 25%); }
        50% { transform: translate(-15%, 10%); }
        60% { transform: translate(15%, 0%); }
        70% { transform: translate(0%, 15%); }
        80% { transform: translate(3%, 35%); }
        90% { transform: translate(-10%, 10%); }
      }
      #app-loader .content {
        position: relative;
        z-index: 10;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
      }
      #app-loader .rings {
        position: relative;
        width: 8rem;
        height: 8rem;
      }
      #app-loader .ring {
        position: absolute;
        border: 2px solid rgba(168, 85, 247, 0.3);
        border-radius: 50%;
        animation: spin-slow 3s linear infinite;
      }
      #app-loader .ring:nth-child(1) { inset: 0; }
      #app-loader .ring:nth-child(2) { inset: 0.5rem; border-color: rgba(236, 72, 153, 0.3); animation: spin-reverse 4s linear infinite; }
      #app-loader .ring:nth-child(3) { inset: 1rem; border-color: rgba(59, 130, 246, 0.3); }
      #app-loader .hexagon {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #app-loader svg {
        width: 4rem;
        height: 4rem;
        filter: drop-shadow(0 0 10px rgba(168, 85, 247, 0.6));
        animation: pulse-glow 2s ease-in-out infinite;
      }
      #app-loader h2 {
        font-size: 2.25rem;
        font-weight: 700;
        color: white;
        letter-spacing: 0.1em;
        animation: glitch 0.5s infinite;
        margin: 0;
      }
      #app-loader .progress-bar {
        width: 16rem;
        height: 0.25rem;
        background: rgba(255,255,255,0.1);
        border-radius: 9999px;
        overflow: hidden;
        backdrop-filter: blur(4px);
      }
      #app-loader .progress-fill {
        height: 100%;
        background: linear-gradient(to right, #a855f7, #ec4899, #3b82f6);
        animation: progress 3s ease-out forwards;
      }
      @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      @keyframes spin-reverse {
        from { transform: rotate(360deg); }
        to { transform: rotate(0deg); }
      }
      @keyframes pulse-glow {
        0%, 100% { filter: drop-shadow(0 0 8px rgba(168, 85, 247, 0.6)); }
        50% { filter: drop-shadow(0 0 20px rgba(236, 72, 153, 0.8)); }
      }
      @keyframes glitch {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(-2px, 2px); }
        40% { transform: translate(-2px, -2px); }
        60% { transform: translate(2px, 2px); }
        80% { transform: translate(2px, -2px); }
      }
      @keyframes progress {
        0% { width: 0%; }
        60% { width: 60%; }
        100% { width: 95%; }
      }
      #app-loader .particles {
        position: absolute;
        inset: 0;
        pointer-events: none;
      }
      #app-loader .particle {
        position: absolute;
        border-radius: 50%;
        background: rgba(255,255,255,0.6);
        animation: float-particle 15s infinite ease-in-out;
      }
      #app-loader .particle:nth-child(1) { width: 6px; height: 6px; left: 10%; top: 20%; animation-delay: 0s; }
      #app-loader .particle:nth-child(2) { width: 4px; height: 4px; left: 20%; top: 40%; animation-delay: 1s; }
      #app-loader .particle:nth-child(3) { width: 5px; height: 5px; left: 30%; top: 60%; animation-delay: 2s; }
      #app-loader .particle:nth-child(4) { width: 3px; height: 3px; left: 40%; top: 30%; animation-delay: 3s; }
      #app-loader .particle:nth-child(5) { width: 6px; height: 6px; left: 50%; top: 70%; animation-delay: 4s; }
      #app-loader .particle:nth-child(6) { width: 4px; height: 4px; left: 60%; top: 25%; animation-delay: 0.5s; }
      #app-loader .particle:nth-child(7) { width: 5px; height: 5px; left: 70%; top: 50%; animation-delay: 1.5s; }
      #app-loader .particle:nth-child(8) { width: 3px; height: 3px; left: 80%; top: 35%; animation-delay: 2.5s; }
      #app-loader .particle:nth-child(9) { width: 6px; height: 6px; left: 85%; top: 65%; animation-delay: 3.5s; }
      #app-loader .particle:nth-child(10) { width: 4px; height: 4px; left: 15%; top: 75%; animation-delay: 4.5s; }
      @keyframes float-particle {
        0%, 100% { transform: translate(0, 0); }
        25% { transform: translate(20px, -30px); }
        50% { transform: translate(-10px, -60px); }
        75% { transform: translate(-30px, -30px); }
      }
      #app-loader .hexagons {
        position: absolute;
        inset: 0;
        pointer-events: none;
      }
      #app-loader .hex-1 {
        position: absolute;
        width: 16rem;
        height: 16rem;
        top: 20%;
        left: 10%;
        opacity: 0.3;
        animation: spin-slow 20s linear infinite;
      }
      #app-loader .hex-2 {
        position: absolute;
        width: 12rem;
        height: 12rem;
        top: 60%;
        right: 15%;
        opacity: 0.3;
        animation: spin-reverse 15s linear infinite;
      }
      #app-loader .hex-3 {
        position: absolute;
        width: 10rem;
        height: 10rem;
        bottom: 20%;
        left: 20%;
        opacity: 0.3;
        animation: spin-slow 25s linear infinite;
      }
    </style>
    <div id="app-loader">
      <div class="grain"></div>
      
      <!-- Floating Particles -->
      <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>
      
      <!-- Rotating Hexagons -->
      <div class="hexagons">
        <svg class="hex-1" viewBox="0 0 100 100">
          <polygon points="50 1 95 25 95 75 50 99 5 75 5 25" fill="none" stroke="rgba(168,85,247,0.3)" stroke-width="1" />
          <polygon points="50 10 85 30 85 70 50 90 15 70 15 30" fill="none" stroke="rgba(236,72,153,0.3)" stroke-width="1" />
        </svg>
        <svg class="hex-2" viewBox="0 0 100 100">
          <polygon points="50 1 95 25 95 75 50 99 5 75 5 25" fill="none" stroke="rgba(59,130,246,0.3)" stroke-width="1" />
        </svg>
        <svg class="hex-3" viewBox="0 0 100 100">
          <polygon points="50 1 95 25 95 75 50 99 5 75 5 25" fill="none" stroke="rgba(168,85,247,0.3)" stroke-width="1" />
        </svg>
      </div>
      
      <div class="content">
        <div class="rings">
          <div class="ring"></div>
          <div class="ring"></div>
          <div class="ring"></div>
          <div class="hexagon">
            <svg viewBox="0 0 100 100">
              <polygon points="50 1 95 25 95 75 50 99 5 75 5 25" fill="none" stroke="url(#gradient)" stroke-width="2" />
              <defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#a855f7" />
                  <stop offset="50%" stop-color="#ec4899" />
                  <stop offset="100%" stop-color="#3b82f6" />
                </linearGradient>
              </defs>
            </svg>
          </div>
        </div>
        <h2>NUKLEO</h2>
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
      </div>
    </div>
    <div id="root"></div>
    <script>
      // Track start time
      const startTime = Date.now();
      const minDisplayTime = 3000; // 3 seconds minimum
      
      // Hide loader once React renders content (with minimum display time)
      const observer = new MutationObserver(() => {
        const root = document.getElementById('root');
        if (root && root.children.length > 0) {
          const elapsed = Date.now() - startTime;
          const remainingTime = Math.max(0, minDisplayTime - elapsed);
          
          setTimeout(() => {
            const loader = document.getElementById('app-loader');
            if (loader) {
              loader.style.opacity = '0';
              loader.style.transition = 'opacity 0.5s ease-out';
              setTimeout(() => loader.remove(), 500);
            }
          }, remainingTime);
          
          observer.disconnect();
        }
      });
      observer.observe(document.getElementById('root'), { childList: true });
    </script>
    <script type="module" src="/src/main.tsx" defer></script>
    <script
      defer
      src="%VITE_ANALYTICS_ENDPOINT%/umami"
      data-website-id="%VITE_ANALYTICS_WEBSITE_ID%"></script>
  </body>

</html>
